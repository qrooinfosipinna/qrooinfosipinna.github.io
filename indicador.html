<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalle del Indicador</title>
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>

  <div id="header"></div>

  <!-- CONTENIDO -->
  <main class="container my-5">
    <a href="javascript:history.back()" class="volver d-block mb-3">← Volver al listado</a>

    <div class="card shadow-sm">
      <div class="card-body">
        <h2 id="nombreIndicador"></h2>
        <p id="descripcionIndicador" class="text-muted"></p>
        <div id="contenidoIndicador" class="mt-4"></div>
      </div>
    </div>
  </main>

  <div id="footer"></div>

  <script>

    /* cargar header */
    fetch("partials/header.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("header").innerHTML = data;

        const navToggle = document.querySelector(".nav-toggle");
        const mainNav = document.getElementById("main-nav");

        if (navToggle) {
          navToggle.addEventListener("click", () => {
            mainNav.classList.toggle("nav-open");
          });
        }
      });

    /* cargar footer */
    fetch("partials/footer.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("footer").innerHTML = data;
      });

    // Datos de prueba simulados (100 % estáticos)
    const datosIndicadores = {
      Demografico: {
        1: { nombre: "Tasa de natalidad", descripcion: "Número de nacimientos por cada mil habitantes.", contenido: "<p>En los últimos años, la tasa de natalidad ha mostrado una tendencia descendente...</p>" },
        2: { nombre: "Distribución por edad", descripcion: "Población agrupada por grupos etarios.", contenido: "<p>La mayoría de la población infantil se concentra en el rango de 5 a 9 años...</p>" }
      },
      Desarrollo: {
        3: { nombre: "Escolaridad promedio", descripcion: "Nivel educativo medio de la población.", contenido: "<p>El promedio de escolaridad de niñas y niños en el estado es de 8.5 años...</p>" },
        4: { nombre: "Acceso a servicios básicos", descripcion: "Disponibilidad de agua, luz y drenaje.", contenido: "<p>El 95 % de los hogares cuenta con acceso a agua potable...</p>" }
      },
      Supervivencia: {
        5: { nombre: "Mortalidad infantil", descripcion: "Defunciones de menores de 1 año por cada mil nacidos vivos.", contenido: "<p>La tasa de mortalidad infantil ha disminuido un 10 % en el último lustro...</p>" }
      },
      Proteccion: {
        6: { nombre: "Casos atendidos", descripcion: "Número de casos de protección infantil registrados.", contenido: "<p>Durante 2024 se atendieron 235 casos de protección infantil...</p>" }
      },
      Participacion: {
        7: { nombre: "Consejos infantiles", descripcion: "Número de consejos activos en el estado.", contenido: "<p>Actualmente existen 45 consejos municipales de participación infantil...</p>" }
      },
      Al25: {
        8: { nombre: "Avance hacia el 25 al 25", descripcion: "Progreso en la meta de tener al menos un consejo infantil en cada municipio para 2025.", contenido: "<p>Hasta la fecha, el 80 % de los municipios cuenta con un consejo infantil activo...</p>" }
      }
    };

    const params = new URLSearchParams(window.location.search);
    const tema = params.get("tema");
    const id = params.get("id");

    const indicador = datosIndicadores[tema]?.[id];
    if (indicador) {
      document.getElementById("tituloIndicador").textContent = indicador.nombre;
      document.getElementById("nombreIndicador").textContent = indicador.nombre;
      document.getElementById("descripcionIndicador").textContent = indicador.descripcion;
      document.getElementById("contenidoIndicador").innerHTML = indicador.contenido;
    } else {
      document.getElementById("contenidoIndicador").innerHTML = "<p class='text-danger'>Indicador no encontrado.</p>";
    }
  </script>
</body>

</html>